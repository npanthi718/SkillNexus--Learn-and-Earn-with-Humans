<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <defs>
    <linearGradient id="bg" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#0f172a"/>
      <stop offset="1" stop-color="#1e293b"/>
    </linearGradient>
    <style>
      .title { fill:#e5e7eb; font-size:22px; font-weight:700; font-family:Inter,Segoe UI,Arial; }
      .actor { fill:#0b1020; stroke:#334155; stroke-width:2; rx:12; }
      .label { fill:#cbd5e1; font-size:14px; font-family:Inter,Segoe UI,Arial; }
      .life { stroke:#475569; stroke-width:2; stroke-dasharray:6 6; }
      .msg { stroke:#7c3aed; stroke-width:2.5; marker-end:url(#arrow); }
    </style>
    <marker id="arrow" markerWidth="8" markerHeight="8" refX="2" refY="4" orient="auto">
      <polygon points="0 0, 8 4, 0 8" fill="#7c3aed"/>
    </marker>
  </defs>
  <rect x="0" y="0" width="1200" height="700" fill="url(#bg)"/>
  <text x="40" y="50" class="title">Sequence Diagram — Group Session Payment & Payout</text>

  <rect x="60" y="80" width="140" height="40" class="actor"/><text x="85" y="106" class="label">Learner</text>
  <rect x="250" y="80" width="160" height="40" class="actor"/><text x="270" y="106" class="label">Frontend (React)</text>
  <rect x="470" y="80" width="160" height="40" class="actor"/><text x="490" y="106" class="label">Backend (API)</text>
  <rect x="690" y="80" width="150" height="40" class="actor"/><text x="710" y="106" class="label">MongoDB</text>
  <rect x="890" y="80" width="150" height="40" class="actor"/><text x="915" y="106" class="label">Cloudinary</text>
  <rect x="1070" y="80" width="80" height="40" class="actor"/><text x="1085" y="106" class="label">Teacher</text>

  <line x1="130" y1="130" x2="130" y2="640" class="life"/>
  <line x1="330" y1="130" x2="330" y2="640" class="life"/>
  <line x1="550" y1="130" x2="550" y2="640" class="life"/>
  <line x1="765" y1="130" x2="765" y2="640" class="life"/>
  <line x1="965" y1="130" x2="965" y2="640" class="life"/>
  <line x1="1110" y1="130" x2="1110" y2="640" class="life"/>

  <text x="80" y="170" class="label">Open offer</text>
  <line x1="130" y1="180" x2="330" y2="180" class="msg"/>
  <text x="250" y="210" class="label">Accept offer</text>
  <line x1="330" y1="220" x2="550" y2="220" class="msg"/>
  <text x="470" y="250" class="label">Create session + group</text>
  <line x1="550" y1="260" x2="765" y2="260" class="msg"/>
  <text x="470" y="290" class="label">Upload QR/bank (optional)</text>
  <line x1="550" y1="300" x2="965" y2="300" class="msg"/>

  <text x="250" y="330" class="label">Pay now (split)</text>
  <line x1="330" y1="340" x2="550" y2="340" class="msg"/>
  <text x="470" y="370" class="label">Record transaction</text>
  <line x1="550" y1="380" x2="765" y2="380" class="msg"/>
  <text x="470" y="410" class="label">Convert to NPR · Deduct fee</text>
  <line x1="550" y1="420" x2="765" y2="420" class="msg"/>

  <text x="470" y="450" class="label">Notify teacher</text>
  <line x1="550" y1="460" x2="1110" y2="460" class="msg"/>
  <text x="1070" y="490" class="label">View wallet</text>
  <line x1="1110" y1="500" x2="330" y2="500" class="msg"/>
  <text x="250" y="530" class="label">Admin marks payout</text>
  <line x1="330" y1="540" x2="550" y2="540" class="msg"/>
  <text x="470" y="570" class="label">NPR→teacher currency</text>
  <line x1="550" y1="580" x2="765" y2="580" class="msg"/>
  <text x="470" y="610" class="label">Paid_to_teacher</text>
  <line x1="550" y1="620" x2="1110" y2="620" class="msg"/>
</svg>
